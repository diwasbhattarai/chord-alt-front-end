<!DOCTYPE html>
<html>
<head>
	<title>Chord Variations</title>
	<meta charset="utf-8">
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Synthesizer lib -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <!-- Music Theory lib -->
    <script src="https://cdn.jsdelivr.net/npm/tonal/browser/tonal.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/intro.min.js"></script> -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/introjs.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intro.js/7.0.1/intro.min.js"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
    
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>
    
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">
    
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/chord-selector.css">

</head>
<body>

    <div aria-live="polite" aria-atomic="true" style="position: relative; ">
        <div class="toast row" style="position: absolute; right: 0;">

          <div class="toast-body" style="color: rgb(140, 8, 8); background: #e3c5c594; font-size: 25px;">
            There was an error generating the chord progression.
          </div>
        </div>
      </div>

	<div class="container">
        <div class="row">
            <div class="col">
            <h1  style="margin-top: 20px;">Chord Variations</h1>
            
        </div>
        </div>
        <div class="row">
            <p class="text-sm-left">Add chords to progression and click 'Generate' to get variations<button class="btn btn-outline-success" style="margin: 20px;" onclick="showIntro()">Take A Tour</button></p>
        </div>
        
		
        <div>
            <div id="chord-builder" class="row">
                
                
                <div class="row">
                    <div class="col-4">
                        <label for="root-note">Chord Root Note</label>
                        <select id="root-note">
                            <option value="C">C</option>
                            <option value="C#">C#</option>
                            <option value="D" selected>D</option>
                            <option value="D#">D#</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="F#">F#</option>
                            <option value="G">G</option>
                            <option value="G#">G#</option>
                            <option value="A">A</option>
                            <option value="A#">A#</option>
                            <option value="B">B</option>
                        </select>
                    </div>
                    <div class="col-4">
                        <label for="quality">Chord Quality</label>
                        <select id="quality">
                            <option value="">Major</option>
                            <option value="m">Minor</option>
                            <option value="dim">Diminished</option>
                            <option value="aug">Augmented</option>
                            <option value="7">Dominant 7th</option>
                            <option value="maj7">Major 7th</option>
                            <option value="min7">Minor 7th</option>
                            <!-- <option value="minmaj7">Minor-major 7th</option> -->
                            <!-- <option value="h7">Half-diminished 7th</option> -->
                            <option value="dim7">Diminished 7th</option>
                            <!-- <option value="9">Dominant 9th</option> -->
                            <!-- <option value="maj9">Major 9th</option> -->
                            <!-- <option value="min9">Minor 9th</option> -->
                            <!-- <option value="11">Dominant 11th</option> -->
                            <!-- <option value="maj11">Major 11th</option> -->
                            <!-- <option value="min11">Minor 11th</option> -->
                            <!-- <option value="13">Dominant 13th</option> -->
                            <!-- <option value="maj13">Major 13th</option> -->
                            <!-- <option value="min13">Minor 13th</option> -->
                            <option value="add9">add9</option>
                        </select>
                    </div>
                    <div class="col-4" style="align-self: center;">
                        <div class="row">
                            <div class="col-md-6 d-flex align-items-center justify-content-center" >
                                <button id="add-chord" class="btn btn-primary rounded-circle" ><i class="fa fa-plus fa-lg"></i></button>
                            </div>
                            <div class="col-md-6 d-flex align-items-center justify-content-center" >
                                <button id="reset" class="btn btn-primary rounded-circle" onclick="location.reload()"><i class="fa fa-sync fa-lg" style="color: #fff;"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <hr/>
                    
                    <div id="chords-container" class="row">
                        
                        <div class="col align-self-center" style="float:left;">
                            <button type="button" class="btn btn-primary btn-rounded btn-icon rounded-circle" id="play_original_button">
                                <i id="play_original_button_icon" class="fa fa-play fa-lg"></i>
                            </button>
                        </div>
                        
                    </div>
                    
                    <div class="row">
                        
                        &nbsp;&nbsp;
                        <div class="col-auto">
                                <p class="text-left text-muted font-weight-lighter" style="text-align: left;font-size:20px">
                                    Max chords: 5<br/>Click red button to remove chord.<br/>Might take a minute for generation to complete.
                                </p>
                        </div>
                        <div class="col" style="align-self: center;">
                            <button type="button" class="btn btn-primary" id="submit_button" 
                                    style="float: right; margin-top: 10px; margin-bottom: 10px; margin-right: -10px;">
                                    <i class="fa fa-robot fa-lg"></i>&nbsp;&nbsp;Generate
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-1 spinner-grow text-success loading-spinner" role="status" style="display: none;">
                    <span class="sr-only">Loading...</span>
                </div>
                <div id="queue-position"></div>

                <div id="gen-container" >
                        
                </div>
            </div>
            
            
        </div>
        
        
        <br><br>
        <div id="current_progression" style="display: table;">
                
        </div>
        
        <button class="btn btn-primary" id="stop_button" onclick="stopPlaying()" style="display: none">Stop</button>
		<div id="output"></div>
		<div id="player"></div>
	</div>

    <div class="footer-wrapper">
        <footer class="footer border-top" style="background-color: #e7e7e7;">
            <div class="text-muted">
            <div class="row">
                <div class="col-md-12 text-left">
                <p class="">2023 | Powered by <a href="https://openai.com/research/gpt-4">OpenAI GPT-4</a> | <a href="https://vivid-emmental-931.notion.site/BUGS-e3e8445c5e884daaae9811ab58573af8">Known Bugs</a></p>
                </div>

            </div>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/svg.js@2.7.1/dist/svg.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chordy-svg@latest/dist/chordy-svg.min.js"></script>
    <script defer src="/_vercel/insights/script.js"></script>

    <script src="scripts/script.js"></script>
    <script src="scripts/chord-selector.js"></script>

    


</body>
</html>